(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},156:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(908),r(1506),r(5866);var a=r(3191),n=r(8716),s=r(7922),i=r.n(s),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,908)),"/Users/tienhuynh-tn/Projects/happy-birthday-friend/2026/memory-jar/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Users/tienhuynh-tn/Projects/happy-birthday-friend/2026/memory-jar/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/tienhuynh-tn/Projects/happy-birthday-friend/2026/memory-jar/app/page.tsx"],c="/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7370:()=>{},2335:(e,t,r)=>{Promise.resolve().then(r.bind(r,9490))},201:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9490:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(326),n=r(7577);function s({stopSignal:e}){let[t,r]=(0,n.useState)(!1),s=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{let e=s.current;e&&(t?(e.pauseVideo(),r(!1)):(e.playVideo(),r(!0)))},className:"min-h-[44px] rounded-full border border-rose/50 bg-white/70 px-4 py-2 text-sm font-medium shadow-soft transition hover:scale-[1.02]","aria-pressed":t,"aria-label":t?"Pause background audio":"Play background audio",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:t?a.jsx("path",{d:"M6 5h4v14H6zm8 0h4v14h-4z"}):a.jsx("path",{d:"M8 5v14l11-7z"})}),t?"Pause":"Play music"]})}),a.jsx("div",{ref:i,className:"h-0 w-0 overflow-hidden opacity-0","aria-hidden":"true"})]})}function i(){let[e,t]=(0,n.useState)(!1);return e}let l=["#F8B3B8","#FFD7C2","#FFF5E9","#B7E4C7","#FCD5CE"],o=(0,n.forwardRef)(function(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)([]),o=(0,n.useRef)(null),d=i();(0,n.useImperativeHandle)(t,()=>({burst(){if(d)return;let e=r.current;if(!e)return;let{width:t,height:a}=e,n=t/2,i=.2*a,o=[];for(let e=0;e<80;e+=1)o.push({x:n,y:i,vx:(Math.random()-.5)*6,vy:-6*Math.random()-2,color:l[e%l.length],life:120+40*Math.random()});s.current=o,c()}}));let u=()=>{let e=r.current;if(!e)return;let t=e.parentElement;if(!t)return;let a=t.getBoundingClientRect();e.width=a.width,e.height=a.height},c=()=>{if(o.current)return;let e=()=>{let t=r.current;if(!t)return;let a=t.getContext("2d");if(a){for(let e of(a.clearRect(0,0,t.width,t.height),s.current=s.current.filter(e=>e.life>0),s.current))e.x+=e.vx,e.y+=e.vy,e.vy+=.06,e.life-=1,a.fillStyle=e.color,a.fillRect(e.x,e.y,6,10);s.current.length>0?o.current=requestAnimationFrame(e):o.current=null}};o.current=requestAnimationFrame(e)};return(0,n.useEffect)(()=>(u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),o.current&&cancelAnimationFrame(o.current)}),[]),a.jsx("canvas",{ref:r,className:"pointer-events-none absolute inset-0 z-20","aria-hidden":"true"})}),d=["bg-gradient-to-br from-pink-50 via-rose-50 to-amber-50 border-rose-200 text-slate-700","bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 border-orange-200 text-slate-700","bg-gradient-to-br from-emerald-50 via-teal-50 to-sky-50 border-emerald-200 text-slate-700","bg-gradient-to-br from-violet-50 via-fuchsia-50 to-rose-50 border-fuchsia-200 text-slate-700"];function u({notes:e,readIds:t,onOpenNote:r,fillPercent:s,showBubbles:l,finalJustUnlocked:o}){let u=(0,n.useRef)(null),c=(0,n.useRef)({}),[,h]=(0,n.useState)(0),m=(0,n.useRef)(null),p=(0,n.useRef)(null),x=i(),f=(e,t,r)=>Math.max(t,Math.min(r,e)),b=(e,t)=>{let r=u.current;if(!r)return;let a=r.getBoundingClientRect(),n=c.current[e]??{left:10,top:10,rotate:0},s=a.left+n.left/100*a.width,i=a.top+n.top/100*a.height;m.current={id:e,offsetX:t.clientX-s,offsetY:t.clientY-i,startX:t.clientX,startY:t.clientY,moved:!1},t.currentTarget.setPointerCapture(t.pointerId)},g=e=>{let t=m.current,r=u.current;if(!t||!r)return;!t.moved&&Math.hypot(e.clientX-t.startX,e.clientY-t.startY)>3&&(t.moved=!0);let a=r.getBoundingClientRect(),n=e.clientX-t.offsetX-a.left,s=e.clientY-t.offsetY-a.top,i=f(n/a.width*100,6,88),l=f(s/a.height*100,12,80);c.current[t.id]={...c.current[t.id]??{rotate:0},left:i,top:l},h(e=>e+1)},v=e=>{m.current?.moved&&(p.current=m.current.id),m.current=null,e.currentTarget.releasePointerCapture(e.pointerId)};return a.jsx("div",{className:"relative mx-auto w-full max-w-[320px] sm:max-w-[360px] lg:max-w-[400px]",children:(0,a.jsxs)("div",{className:"relative mt-6",children:[(0,a.jsxs)("div",{className:"absolute left-1/2 top-0 z-30 h-16 w-44 -translate-x-1/2 -translate-y-8 rounded-[24px] bg-gradient-to-b from-rose/80 to-rose/40 shadow-[0_12px_20px_-10px_rgba(59,47,47,0.35)]","aria-hidden":"true",children:[a.jsx("div",{className:"absolute inset-2 rounded-[20px] border border-white/70"}),a.jsx("div",{className:"absolute inset-x-6 inset-y-3 rounded-full bg-white/45 blur-sm"})]}),a.jsx("div",{className:"absolute left-1/2 top-4 z-20 h-6 w-40 -translate-x-1/2 rounded-[18px] border border-white/60 bg-white/40 shadow-[inset_0_2px_8px_rgba(255,255,255,0.6)]","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative h-[420px] w-full overflow-hidden rounded-[48%] border border-white/60 bg-gradient-to-b from-white/75 via-jar/55 to-jar/20 shadow-[0_28px_60px_-40px_rgba(59,47,47,0.45)] backdrop-blur",children:[a.jsx("div",{className:"pointer-events-none absolute inset-2 z-[4] rounded-[46%] border border-white/60","aria-hidden":"true"}),a.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 z-[10] rounded-[44%] bg-gradient-to-t from-rose/70 via-peach/50 to-rose/20",style:{height:`${100*Math.min(Math.max(s,0),1)}%`,transition:x?"none":"height 600ms ease-out"},"aria-hidden":"true"}),a.jsx("div",{className:"pointer-events-none absolute inset-5 z-[10] rounded-[44%] bg-gradient-to-b from-white/25 via-transparent to-transparent","aria-hidden":"true"}),a.jsx("div",{className:"pointer-events-none absolute inset-5 z-[10] rounded-[44%] shadow-[inset_0_0_28px_rgba(255,255,255,0.35)]","aria-hidden":"true"}),a.jsx("div",{className:"pointer-events-none absolute bottom-2 left-1/2 h-10 w-4/5 -translate-x-1/2 rounded-[40px] bg-white/15 blur-md","aria-hidden":"true"}),a.jsx("div",{className:"pointer-events-none absolute right-8 top-12 h-36 w-4 rounded-full bg-white/55 blur-sm","aria-hidden":"true"}),a.jsx("div",{ref:u,className:"absolute inset-[46px] z-[30] pointer-events-auto",children:e.map((e,n)=>{let s=t.has(e.id),i="wish-final"===e.id,l=function(e){let t=0;for(let r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}(e.id)%d.length,u=d[l],h=i?{left:50,top:50,rotate:0}:c.current[e.id]??{left:10,top:10,rotate:0};return a.jsx("div",{className:"absolute "+(i?"z-[35]"+(o?" motion-safe:animate-[final-pop_420ms_ease-out]":""):"z-[30] motion-safe:animate-float"),style:{left:`${h.left}%`,top:`${h.top}%`,animationDelay:`${.28*n}s`},children:a.jsx("button",{type:"button",onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),r(e))},onPointerDown:t=>b(e.id,t),onPointerMove:g,onPointerUp:v,onClick:()=>{if(p.current===e.id){p.current=null;return}r(e)},className:"touch-none cursor-pointer select-none rounded-md border-2 px-3 py-2 text-[11px] font-semibold min-h-[44px] transition-transform duration-150 shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-rose/60 active:cursor-grabbing active:scale-[0.98] "+(s&&!i?"opacity-65 saturate-75 shadow-none":"opacity-100")+(i?" bg-gradient-to-br from-amber-50 via-rose-50 to-emerald-50 border-amber-300 text-slate-800 ring-2 ring-emerald-200 shadow-lg scale-[1.18]":"")+" "+u,style:{transform:i?"translate(-50%, -50%)":`rotate(${h.rotate}deg)`},"aria-label":`Open note from ${e.author}`,children:i?"Huỳnh Ti\xean – a small gift \uD83D\uDC9A":e.author})},e.id)})}),!x&&l&&a.jsx("div",{className:"pointer-events-none absolute inset-6 z-[25]","aria-hidden":"true",children:Array.from({length:18}).map((e,t)=>a.jsx("span",{className:"absolute rounded-full border border-white/40 bg-white/20",style:{left:`${8+6*t%78}%`,bottom:`${6+t%5*6}%`,width:`${6+t%4*3}px`,height:`${6+t%4*3}px`,animation:`bubble ${1800+60*t}ms ease-out ${60*t}ms forwards`,transform:`translateX(${t%3-1}px)`}},`bubble-${t}`))}),a.jsx("div",{className:"pointer-events-none absolute inset-2 z-[40] rounded-[46%] border border-white/70 bg-gradient-to-br from-white/20 via-transparent to-white/10","aria-hidden":"true"})]}),a.jsx("div",{className:"absolute -bottom-6 left-1/2 h-6 w-4/5 -translate-x-1/2 rounded-full bg-ink/10 blur-lg","aria-hidden":"true"})]})})}function c({isOpen:e,title:t,onClose:r,children:s}){let l=(0,n.useRef)(null),o=i();return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-40 flex items-center justify-center px-4",children:[a.jsx("div",{className:"absolute inset-0 bg-ink/40","aria-hidden":"true",onClick:r}),(0,a.jsxs)("div",{ref:l,role:"dialog","aria-modal":"true","aria-label":t,className:"relative z-50 w-full max-w-lg rounded-[36px] bg-[#FFF9F2] p-6 shadow-[0_18px_50px_-20px_rgba(59,47,47,0.5)]"+(o?"":" motion-safe:animate-[card_260ms_ease-out]"),children:[a.jsx("div",{className:"absolute inset-0 rounded-[36px] border border-white/80 bg-gradient-to-br from-white/70 via-transparent to-white/30","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:"\uD83C\uDF89"}),a.jsx("h2",{className:"text-lg font-semibold",children:t})]}),a.jsx("button",{type:"button",onClick:r,"aria-label":"Close",className:"grid min-h-[40px] min-w-[40px] place-items-center rounded-full border border-rose/40 bg-white/70 text-ink/70 transition hover:text-ink active:scale-95",children:a.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{d:"M6 6l12 12M18 6l-12 12"})})})]}),a.jsx("div",{className:"mt-4 space-y-3 text-sm text-ink/90",children:s}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-2 text-xs text-ink/60",children:[a.jsx("span",{"aria-hidden":"true",children:"✨"}),a.jsx("span",{children:"Happy Birthday"}),a.jsx("span",{"aria-hidden":"true",children:"✨"})]})]})]})]}):null}function h(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)(null),[d,h]=(0,n.useState)(()=>new Set),m=e.length,p=e.filter(e=>d.has(e.id)).length,x=m>0&&p===m,f=(0,n.useMemo)(()=>[...e,...x&&r?[r]:[]],[e,r,x]),[b,g]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),[j,y]=(0,n.useState)(null),N=(0,n.useRef)(null);(0,n.useRef)(null);let _=i(),[k,P]=(0,n.useState)(!1),[C,M]=(0,n.useState)(!1),[z,$]=(0,n.useState)(0),[S,R]=(0,n.useState)(0),F=e=>{h(t=>{if(t.has(e.id))return t;let r=new Set(t);return r.add(e.id),r}),y(e),N.current?.burst(),"wish-final"!==e.id||C||_||(P(!0),M(!0),window.setTimeout(()=>P(!1),3e3)),"wish-final"===e.id&&($(e=>e+1),R(e=>e+1))},A=f.filter(e=>!d.has(e.id));return(0,a.jsxs)("main",{className:"relative min-h-screen px-5 py-8 sm:px-10",children:[a.jsx(o,{ref:N}),(0,a.jsxs)("section",{className:"relative z-10 mx-auto flex w-full max-w-4xl flex-col items-center gap-6 text-center",children:[(0,a.jsxs)("header",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-ink/70",children:"Memory Jar"}),a.jsx("h1",{className:"text-3xl font-semibold sm:text-4xl",children:"Happy Birthday, bro \uD83C\uDF82"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[a.jsx(s,{stopSignal:z}),a.jsx("button",{type:"button",onClick:()=>{var e;let t=(e=A.length>0?A:f)[Math.floor(Math.random()*e.length)];t&&F(t)},className:"min-h-[44px] rounded-full border border-rose/50 bg-rose/40 px-4 py-2 text-sm font-medium text-ink shadow-soft transition hover:scale-[1.02]",children:"Pick a random wish"})]})]}),a.jsx("p",{className:"text-xs italic text-ink/60",children:"Tap the names to read the wish, or press “Pick a random wish” for a surprise. Open all wishes to see the final surprise at the end. You can also drag wishes around inside the jar to make them easier to open."}),(0,a.jsxs)("div",{className:"relative w-full",children:[a.jsx(u,{notes:f,readIds:d,onOpenNote:F,fillPercent:m>0?Math.min(Math.max(p/m,0),1):0,showBubbles:b,finalJustUnlocked:v}),!1]})]}),j&&a.jsx(c,{isOpen:!!j,title:j.author,onClose:()=>{y(null),R(e=>j?.id==="wish-final"?e+1:e)},children:(0,a.jsxs)("div",{onClick:()=>{"wish-final"===j.id&&R(e=>e+1)},children:[j.date&&a.jsx("p",{className:"text-xs uppercase tracking-widest text-ink/50",children:j.date}),a.jsx("p",{className:"text-base leading-relaxed whitespace-pre-line",children:j.message})]})}),j?.id==="wish-final"&&a.jsx("iframe",{src:"https://www.youtube.com/embed/S7KA4tQ483o?si=MpXAXgHYIliQzU64&controls=0&start=10&autoplay=1&playsinline=1",title:"Final wish audio",allow:"autoplay; encrypted-media",className:"fixed -left-[9999px] top-0 h-[1px] w-[1px] opacity-0 pointer-events-none"},`final-audio-${S}`),k&&a.jsx("div",{className:"pointer-events-none fixed inset-0 z-40 overflow-hidden","aria-hidden":"true",children:Array.from({length:32}).map((e,t)=>a.jsx("span",{className:"absolute rounded-full blur-[1px]",style:{left:`${7*t%100}%`,bottom:`-${10+t%6*8}%`,width:`${8+t%5*6}px`,height:`${8+t%5*6}px`,background:t%3==0?"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.55), rgba(244,143,177,0.55) 55%)":t%3==1?"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), rgba(251,146,118,0.55) 55%)":"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.5), rgba(110,231,183,0.55) 55%)",animation:`finalBubble ${2400+30*t}ms ease-out ${40*t}ms forwards`}},`final-bubble-${t}`))}),a.jsx("div",{className:"birthday-icons fixed inset-0 z-0","aria-hidden":"true"}),(0,a.jsxs)("footer",{className:"relative z-10 mt-10 flex flex-wrap items-center justify-center gap-3 text-xs text-ink/60",children:[a.jsx("span",{children:"\xa9 2026 by tienhuynh-tn \xb7 Supported by ChatGPT & Codex"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"https://github.com/tienhuynh-tn",target:"_blank",rel:"noreferrer noopener","aria-label":"GitHub profile",className:"rounded-full p-1 transition hover:text-ink",children:a.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.58 2 12.26c0 4.5 2.87 8.32 6.84 9.67.5.1.68-.22.68-.48l-.02-1.7c-2.78.62-3.37-1.2-3.37-1.2-.46-1.2-1.12-1.52-1.12-1.52-.92-.65.07-.64.07-.64 1.02.07 1.56 1.08 1.56 1.08.9 1.6 2.36 1.14 2.94.87.09-.68.35-1.14.64-1.4-2.22-.26-4.56-1.15-4.56-5.12 0-1.13.39-2.05 1.02-2.77-.1-.26-.44-1.3.1-2.71 0 0 .84-.28 2.75 1.06a9.3 9.3 0 0 1 5 0c1.9-1.34 2.74-1.06 2.74-1.06.54 1.41.2 2.45.1 2.71.64.72 1.02 1.64 1.02 2.77 0 3.98-2.34 4.85-4.57 5.11.36.32.68.95.68 1.92l-.01 2.85c0 .26.18.59.68.48A10.1 10.1 0 0 0 22 12.26C22 6.58 17.52 2 12 2z"})})}),a.jsx("a",{href:"https://www.linkedin.com/in/tienhuynh-tn/",target:"_blank",rel:"noreferrer noopener","aria-label":"LinkedIn profile",className:"rounded-full p-1 transition hover:text-ink",children:a.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{d:"M6.94 8.5H4.2V20h2.74V8.5zM5.57 4.5a1.6 1.6 0 1 0 0 3.2 1.6 1.6 0 0 0 0-3.2zM20 20h-2.74v-5.9c0-1.41-.03-3.22-1.96-3.22-1.96 0-2.26 1.54-2.26 3.12V20H10.3V8.5h2.63v1.57h.04c.37-.7 1.27-1.44 2.62-1.44 2.8 0 3.32 1.87 3.32 4.3V20z"})})})]})]})]})}},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>n});var a=r(9510);r(7272);let n={title:"Memory Jar",description:"Open the jar and read birthday memories.",openGraph:{title:"Memory Jar",description:"Open the jar and read birthday memories.",type:"website"}};function s({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"noise-bg birthday-bg min-h-screen",children:e})})}},908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>l});var a=r(8570);let n=(0,a.createProxy)(String.raw`/Users/tienhuynh-tn/Projects/happy-birthday-friend/2026/memory-jar/app/page.tsx`),{__esModule:s,$$typeof:i}=n;n.default;let l=(0,a.createProxy)(String.raw`/Users/tienhuynh-tn/Projects/happy-birthday-friend/2026/memory-jar/app/page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[819],()=>r(156));module.exports=a})();